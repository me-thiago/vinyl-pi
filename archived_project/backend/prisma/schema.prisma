datasource db {
  provider = "sqlite"
  url      = "file:../recordings.db"
}

generator client {
  provider = "prisma-client-js"
}

model Recording {
  id              String   @id @default(uuid())

  // Timestamps
  startedAt       DateTime @default(now())
  endedAt         DateTime?
  createdAt       DateTime @default(now())

  // Audio info
  durationSeconds Float    @default(0)
  filePath        String   @unique
  fileSizeBytes   Int      @default(0)
  sampleRate      Int      @default(48000)
  bitDepth        Int      @default(16)
  channels        Int      @default(2)

  // Status
  status          String   @default("recording") // 'recording' | 'stopped' | 'failed'

  // Metadata (opcional, editável pelo usuário)
  title           String?
  artist          String?
  album           String?
  side            String?  // 'A' ou 'B'
  notes           String?

  // Indexes para performance
  @@index([createdAt(sort: Desc)])
  @@index([status])
  @@index([album])
}
